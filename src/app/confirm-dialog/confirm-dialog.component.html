<style>
  .spinner {
    display: inline-block;
    height: 18px;
    width: 18px;
    margin-bottom: -4px;
  }
</style>

<h1 mat-dialog-title>確認</h1>
<div mat-dialog-content>
  <div>以下の内容で保存します。</div>
  <div *ngFor="let gc of groupChangeRequests">
    {{generateGroupMessage(gc)}}
    <ul>
      <li *ngFor="let user of gc.users">
        {{user.mail}}
        <ng-container *ngIf="getRequestStateString(gc, user) === 'requesting'">
          <mat-progress-spinner class="spinner" color="primary" mode="indeterminate"> </mat-progress-spinner>
        </ng-container>
        <ng-container *ngIf="getRequestStateString(gc, user) === 'submitted'">
          <mat-icon>done</mat-icon>
        </ng-container>
        <ng-container *ngIf="getRequestStateString(gc, user) === 'error'">
          <mat-icon>error</mat-icon>
        </ng-container>
      </li>
    </ul>
  </div>
</div>
<div *ngIf="message">
  {{message}}
</div>
<div *ngIf="errorMessage">
  エラー：{{errorMessage}}
</div>
<div mat-dialog-actions>
  <button mat-button (click)="close()">閉じる</button>
  <button mat-button (click)="save()" [disabled]="isRequested">保存</button>
</div>